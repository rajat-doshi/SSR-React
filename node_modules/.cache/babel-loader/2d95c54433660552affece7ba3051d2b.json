{"ast":null,"code":"import _objectSpread from\"/home/bacancy/Desktop/valtech/valtech/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"/home/bacancy/Desktop/valtech/valtech/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{connect}from\"react-redux\";import{getItemById,getItems,postItemUpdateById}from\"./Redux/Action/index\";import Input from\"./Component/Input\";import{te}from\"./Utility/ReduxToaster\";import{getFormDetails}from\"./Utility/Helper\";import TextArea from\"./Component/TextArea\";var Form=[{name:\"logo\",title:\"Developer Image URL\",reqType:\"URL\"},{name:\"imgTitle\",title:\"Developer Name\"},{name:\"totalExp\",title:\"Years Of Exprience\",reqType:\"number\"},{name:\"totalProjects\",title:\"Project Count\"},{name:\"desc\",title:\"Description\",type:\"textarea\"},{name:\"title\",title:\"Project Name\"},{name:\"location\",title:\"Project Location\"},{name:\"imgURL\",title:\"Project Image URL\",reqType:\"URL\"}];var initForm={logo:\"\",imgURL:\"\",imgTitle:\"\",title:\"\",totalExp:\"\",totalProjects:\"\",desc:\"\",location:\"\",id:\"\",errors:{logo:null,imgURL:null,imgTitle:null,title:null,totalExp:null,totalProjects:null,desc:null,location:null,id:null}};var EditProperty=function EditProperty(props){var _useState=useState({form:_objectSpread({},initForm)}),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];var form=state.form;var UpdateForm=function UpdateForm(obj){if(props.itemsList.selectedItem.logo){form=_objectSpread(_objectSpread({},form),props.itemsList.selectedItem);form=_objectSpread(_objectSpread({},props.itemsList.selectedItem),{},{errors:_objectSpread({},form.errors)});setState(_objectSpread(_objectSpread({},state),{},{form:form}));}};useEffect(function(){if(props.itemsList.items==0){props.getItems();}},[props.itemsList.items.length==0]);useEffect(function(){props.getItemById(1);},[props.itemsList.items.length>0]);useEffect(function(){UpdateForm(props.itemsList.selectedItem);},[props.itemsList.selectedItem]);var onInputChange=function onInputChange(name,value){var error=arguments.length>2&&arguments[2]!==undefined?arguments[2]:undefined;var form=state.form;form[name]=value;var errors=form.errors;if(error!==undefined){errors[name]=error;}setState({form:_objectSpread(_objectSpread({},state.form),{},{errors:errors})});};// handle validation\nvar onInputValidate=function onInputValidate(name,error){var errors=state.form.errors;errors[name]=error;setState({form:_objectSpread(_objectSpread({},state.form),{},{errors:errors})});};var handleSubmit=function handleSubmit(e){e.preventDefault();var history=props.history,match=props.match;var form=state.form,id=state.id;var obj=getFormDetails(form,onInputValidate);if(!obj){te(\"Please Enter required field\");return false;}if(obj){props.postItemUpdateById(obj);history.push(\"/\");}};return/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"div\",{className:\"container form-field-main mt-4\"},/*#__PURE__*/React.createElement(\"form\",{onSubmit:handleSubmit},Form.map(function(res){if(res.type===\"textarea\"){return/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 bor\"},/*#__PURE__*/React.createElement(TextArea,{name:res.name,onChangeFunc:onInputChange,validationFunc:onInputValidate,title:res.title,value:form[res.name],isReq:true,error:form.errors[res.name],className:\"editTextbox\"})));}else{return/*#__PURE__*/React.createElement(\"div\",{className:\"row mt-4\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6 bor\"},/*#__PURE__*/React.createElement(Input,{name:res.name,onChangeFunc:onInputChange,validationFunc:onInputValidate,title:res.title,value:form[res.name],isReq:true,error:form.errors[res.name],className:\"editTextbox\",reqType:res.reqType})));}}),/*#__PURE__*/React.createElement(\"div\",{className:\"row\"},/*#__PURE__*/React.createElement(\"div\",{className:\"col-lg-6\"},/*#__PURE__*/React.createElement(\"button\",{type:\"submit\",className:\"btn btn-primary form-control editTextbox\"},\"Update\"))))));};export default connect(function(state){return state;},{getItemById:getItemById,getItems:getItems,postItemUpdateById:postItemUpdateById})(EditProperty);","map":{"version":3,"sources":["/home/bacancy/Desktop/valtech/valtech/src/EditProperty.js"],"names":["React","useEffect","useState","connect","getItemById","getItems","postItemUpdateById","Input","te","getFormDetails","TextArea","Form","name","title","reqType","type","initForm","logo","imgURL","imgTitle","totalExp","totalProjects","desc","location","id","errors","EditProperty","props","form","state","setState","UpdateForm","obj","itemsList","selectedItem","items","length","onInputChange","value","error","undefined","onInputValidate","handleSubmit","e","preventDefault","history","match","push","map","res"],"mappings":"+OAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,OAAT,KAAwB,aAAxB,CACA,OACEC,WADF,CAEEC,QAFF,CAGEC,kBAHF,KAIO,sBAJP,CAKA,MAAOC,CAAAA,KAAP,KAAkB,mBAAlB,CACA,OAASC,EAAT,KAAmB,wBAAnB,CACA,OAASC,cAAT,KAA+B,kBAA/B,CACA,MAAOC,CAAAA,QAAP,KAAqB,sBAArB,CACA,GAAMC,CAAAA,IAAI,CAAG,CACX,CAAEC,IAAI,CAAE,MAAR,CAAgBC,KAAK,CAAE,qBAAvB,CAA8CC,OAAO,CAAE,KAAvD,CADW,CAEX,CAAEF,IAAI,CAAE,UAAR,CAAoBC,KAAK,CAAE,gBAA3B,CAFW,CAGX,CAAED,IAAI,CAAE,UAAR,CAAoBC,KAAK,CAAE,oBAA3B,CAAiDC,OAAO,CAAE,QAA1D,CAHW,CAIX,CAAEF,IAAI,CAAE,eAAR,CAAyBC,KAAK,CAAE,eAAhC,CAJW,CAKX,CAAED,IAAI,CAAE,MAAR,CAAgBC,KAAK,CAAE,aAAvB,CAAsCE,IAAI,CAAE,UAA5C,CALW,CAMX,CAAEH,IAAI,CAAE,OAAR,CAAiBC,KAAK,CAAE,cAAxB,CANW,CAOX,CAAED,IAAI,CAAE,UAAR,CAAoBC,KAAK,CAAE,kBAA3B,CAPW,CAQX,CAAED,IAAI,CAAE,QAAR,CAAkBC,KAAK,CAAE,mBAAzB,CAA6CC,OAAO,CAAE,KAAtD,CARW,CAAb,CAUA,GAAME,CAAAA,QAAQ,CAAG,CACfC,IAAI,CAAE,EADS,CAEfC,MAAM,CAAE,EAFO,CAGfC,QAAQ,CAAE,EAHK,CAIfN,KAAK,CAAE,EAJQ,CAKfO,QAAQ,CAAE,EALK,CAMfC,aAAa,CAAE,EANA,CAOfC,IAAI,CAAE,EAPS,CAQfC,QAAQ,CAAE,EARK,CASfC,EAAE,CAAE,EATW,CAUfC,MAAM,CAAE,CACNR,IAAI,CAAE,IADA,CAENC,MAAM,CAAE,IAFF,CAGNC,QAAQ,CAAE,IAHJ,CAINN,KAAK,CAAE,IAJD,CAKNO,QAAQ,CAAE,IALJ,CAMNC,aAAa,CAAE,IANT,CAONC,IAAI,CAAE,IAPA,CAQNC,QAAQ,CAAE,IARJ,CASNC,EAAE,CAAE,IATE,CAVO,CAAjB,CAsBA,GAAME,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,KAAD,CAAW,eACJzB,QAAQ,CAAC,CAAE0B,IAAI,kBAAOZ,QAAP,CAAN,CAAD,CADJ,wCACvBa,KADuB,eAChBC,QADgB,kBAExBF,CAAAA,IAFwB,CAEfC,KAFe,CAExBD,IAFwB,CAG9B,GAAMG,CAAAA,UAAU,CAAG,QAAbA,CAAAA,UAAa,CAACC,GAAD,CAAS,CAC1B,GAAIL,KAAK,CAACM,SAAN,CAAgBC,YAAhB,CAA6BjB,IAAjC,CAAuC,CACrCW,IAAI,gCAAQA,IAAR,EAAiBD,KAAK,CAACM,SAAN,CAAgBC,YAAjC,CAAJ,CAEAN,IAAI,gCACCD,KAAK,CAACM,SAAN,CAAgBC,YADjB,MAEFT,MAAM,kBAAOG,IAAI,CAACH,MAAZ,CAFJ,EAAJ,CAKAK,QAAQ,gCAAMD,KAAN,MAAaD,IAAI,CAAEA,IAAnB,GAAR,CACD,CACF,CAXD,CAYA3B,SAAS,CAAC,UAAM,CACd,GAAI0B,KAAK,CAACM,SAAN,CAAgBE,KAAhB,EAAyB,CAA7B,CAAgC,CAC9BR,KAAK,CAACtB,QAAN,GACD,CACF,CAJQ,CAIN,CAACsB,KAAK,CAACM,SAAN,CAAgBE,KAAhB,CAAsBC,MAAtB,EAAgC,CAAjC,CAJM,CAAT,CAKAnC,SAAS,CAAC,UAAM,CACd0B,KAAK,CAACvB,WAAN,CAAkB,CAAlB,EACD,CAFQ,CAEN,CAACuB,KAAK,CAACM,SAAN,CAAgBE,KAAhB,CAAsBC,MAAtB,CAA+B,CAAhC,CAFM,CAAT,CAGAnC,SAAS,CAAC,UAAM,CACd8B,UAAU,CAACJ,KAAK,CAACM,SAAN,CAAgBC,YAAjB,CAAV,CACD,CAFQ,CAEN,CAACP,KAAK,CAACM,SAAN,CAAgBC,YAAjB,CAFM,CAAT,CAIA,GAAMG,CAAAA,aAAa,CAAG,QAAhBA,CAAAA,aAAgB,CAACzB,IAAD,CAAO0B,KAAP,CAAoC,IAAtBC,CAAAA,KAAsB,2DAAdC,SAAc,IAChDZ,CAAAA,IADgD,CACvCC,KADuC,CAChDD,IADgD,CAExDA,IAAI,CAAChB,IAAD,CAAJ,CAAa0B,KAAb,CAFwD,GAGlDb,CAAAA,MAHkD,CAGvCG,IAHuC,CAGlDH,MAHkD,CAIxD,GAAIc,KAAK,GAAKC,SAAd,CAAyB,CACvBf,MAAM,CAACb,IAAD,CAAN,CAAe2B,KAAf,CACD,CACDT,QAAQ,CAAC,CAAEF,IAAI,gCAAOC,KAAK,CAACD,IAAb,MAAmBH,MAAM,CAAEA,MAA3B,EAAN,CAAD,CAAR,CACD,CARD,CASA;AACA,GAAMgB,CAAAA,eAAe,CAAG,QAAlBA,CAAAA,eAAkB,CAAC7B,IAAD,CAAO2B,KAAP,CAAiB,IACjCd,CAAAA,MADiC,CACtBI,KAAK,CAACD,IADgB,CACjCH,MADiC,CAEvCA,MAAM,CAACb,IAAD,CAAN,CAAe2B,KAAf,CACAT,QAAQ,CAAC,CAAEF,IAAI,gCAAOC,KAAK,CAACD,IAAb,MAAmBH,MAAM,CAAEA,MAA3B,EAAN,CAAD,CAAR,CACD,CAJD,CAKA,GAAMiB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,CAACC,CAAD,CAAO,CAC1BA,CAAC,CAACC,cAAF,GAD0B,GAEpBC,CAAAA,OAFoB,CAEDlB,KAFC,CAEpBkB,OAFoB,CAEXC,KAFW,CAEDnB,KAFC,CAEXmB,KAFW,IAGlBlB,CAAAA,IAHkB,CAGLC,KAHK,CAGlBD,IAHkB,CAGZJ,EAHY,CAGLK,KAHK,CAGZL,EAHY,CAI1B,GAAIQ,CAAAA,GAAG,CAAGvB,cAAc,CAACmB,IAAD,CAAOa,eAAP,CAAxB,CACA,GAAI,CAACT,GAAL,CAAU,CACRxB,EAAE,CAAC,6BAAD,CAAF,CACA,MAAO,MAAP,CACD,CACD,GAAIwB,GAAJ,CAAS,CAEPL,KAAK,CAACrB,kBAAN,CAAyB0B,GAAzB,EACAa,OAAO,CAACE,IAAR,CAAa,GAAb,EACD,CACF,CAdD,CAgBA,mBACE,qDACE,2BAAK,SAAS,CAAC,gCAAf,eACE,4BAAM,QAAQ,CAAEL,YAAhB,EACG/B,IAAI,CAACqC,GAAL,CAAS,SAACC,GAAD,CAAS,CACjB,GAAIA,GAAG,CAAClC,IAAJ,GAAa,UAAjB,CAA6B,CAC3B,mBACE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,oBAAC,QAAD,EACE,IAAI,CAAEkC,GAAG,CAACrC,IADZ,CAEE,YAAY,CAAEyB,aAFhB,CAGE,cAAc,CAAEI,eAHlB,CAIE,KAAK,CAAEQ,GAAG,CAACpC,KAJb,CAKE,KAAK,CAAEe,IAAI,CAACqB,GAAG,CAACrC,IAAL,CALb,CAME,KAAK,CAAE,IANT,CAOE,KAAK,CAAEgB,IAAI,CAACH,MAAL,CAAYwB,GAAG,CAACrC,IAAhB,CAPT,CAQE,SAAS,CAAC,aARZ,EADF,CADF,CADF,CAgBD,CAjBD,IAiBO,CACL,mBACE,2BAAK,SAAS,CAAC,UAAf,eACE,2BAAK,SAAS,CAAC,cAAf,eACE,oBAAC,KAAD,EACE,IAAI,CAAEqC,GAAG,CAACrC,IADZ,CAEE,YAAY,CAAEyB,aAFhB,CAGE,cAAc,CAAEI,eAHlB,CAIE,KAAK,CAAEQ,GAAG,CAACpC,KAJb,CAKE,KAAK,CAAEe,IAAI,CAACqB,GAAG,CAACrC,IAAL,CALb,CAME,KAAK,CAAE,IANT,CAOE,KAAK,CAAEgB,IAAI,CAACH,MAAL,CAAYwB,GAAG,CAACrC,IAAhB,CAPT,CAQE,SAAS,CAAC,aARZ,CASE,OAAO,CAAEqC,GAAG,CAACnC,OATf,EADF,CADF,CADF,CAiBD,CACF,CArCA,CADH,cAuCE,2BAAK,SAAS,CAAC,KAAf,eACE,2BAAK,SAAS,CAAC,UAAf,eACE,8BACE,IAAI,CAAC,QADP,CAEE,SAAS,CAAC,0CAFZ,WADF,CADF,CAvCF,CADF,CADF,CADF,CAwDD,CAlHD,CAoHA,cAAeX,CAAAA,OAAO,CAAC,SAAC0B,KAAD,QAAWA,CAAAA,KAAX,EAAD,CAAmB,CACvCzB,WAAW,CAAXA,WADuC,CAEvCC,QAAQ,CAARA,QAFuC,CAGvCC,kBAAkB,CAAlBA,kBAHuC,CAAnB,CAAP,CAIZoB,YAJY,CAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { connect } from \"react-redux\";\nimport {\n  getItemById,\n  getItems,\n  postItemUpdateById,\n} from \"./Redux/Action/index\";\nimport Input from \"./Component/Input\";\nimport { te } from \"./Utility/ReduxToaster\";\nimport { getFormDetails } from \"./Utility/Helper\";\nimport TextArea from \"./Component/TextArea\";\nconst Form = [\n  { name: \"logo\", title: \"Developer Image URL\", reqType: \"URL\" },\n  { name: \"imgTitle\", title: \"Developer Name\" },\n  { name: \"totalExp\", title: \"Years Of Exprience\", reqType: \"number\" },\n  { name: \"totalProjects\", title: \"Project Count\" },\n  { name: \"desc\", title: \"Description\", type: \"textarea\" },\n  { name: \"title\", title: \"Project Name\" },\n  { name: \"location\", title: \"Project Location\" },\n  { name: \"imgURL\", title: \"Project Image URL\",reqType: \"URL\" },\n];\nconst initForm = {\n  logo: \"\",\n  imgURL: \"\",\n  imgTitle: \"\",\n  title: \"\",\n  totalExp: \"\",\n  totalProjects: \"\",\n  desc: \"\",\n  location: \"\",\n  id: \"\",\n  errors: {\n    logo: null,\n    imgURL: null,\n    imgTitle: null,\n    title: null,\n    totalExp: null,\n    totalProjects: null,\n    desc: null,\n    location: null,\n    id: null,\n  },\n};\nconst EditProperty = (props) => {\n  const [state, setState] = useState({ form: { ...initForm } });\n  let { form } = state;\n  const UpdateForm = (obj) => {\n    if (props.itemsList.selectedItem.logo) {\n      form = { ...form, ...props.itemsList.selectedItem };\n\n      form = {\n        ...props.itemsList.selectedItem,\n        errors: { ...form.errors },\n      };\n\n      setState({ ...state, form: form });\n    }\n  };\n  useEffect(() => {\n    if (props.itemsList.items == 0) {\n      props.getItems();\n    }\n  }, [props.itemsList.items.length == 0]);\n  useEffect(() => {\n    props.getItemById(1);\n  }, [props.itemsList.items.length > 0]);\n  useEffect(() => {\n    UpdateForm(props.itemsList.selectedItem);\n  }, [props.itemsList.selectedItem]);\n\n  const onInputChange = (name, value, error = undefined) => {\n    const { form } = state;\n    form[name] = value;\n    let { errors } = form;\n    if (error !== undefined) {\n      errors[name] = error;\n    }\n    setState({ form: { ...state.form, errors: errors } });\n  };\n  // handle validation\n  const onInputValidate = (name, error) => {\n    let { errors } = state.form;\n    errors[name] = error;\n    setState({ form: { ...state.form, errors: errors } });\n  };\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    let { history, match } = props;\n    const { form, id } = state;\n    let obj = getFormDetails(form, onInputValidate);\n    if (!obj) {\n      te(\"Please Enter required field\");\n      return false;\n    }\n    if (obj) {\n     \n      props.postItemUpdateById(obj);\n      history.push(\"/\");\n    }\n  };\n\n  return (\n    <>\n      <div className=\"container form-field-main mt-4\">\n        <form onSubmit={handleSubmit}>\n          {Form.map((res) => {\n            if (res.type === \"textarea\") {\n              return (\n                <div className=\"row mt-4\">\n                  <div className=\"col-lg-6 bor\">\n                    <TextArea\n                      name={res.name}\n                      onChangeFunc={onInputChange}\n                      validationFunc={onInputValidate}\n                      title={res.title}\n                      value={form[res.name]}\n                      isReq={true}\n                      error={form.errors[res.name]}\n                      className=\"editTextbox\"\n                    />\n                  </div>\n                </div>\n              );\n            } else {\n              return (\n                <div className=\"row mt-4\">\n                  <div className=\"col-lg-6 bor\">\n                    <Input\n                      name={res.name}\n                      onChangeFunc={onInputChange}\n                      validationFunc={onInputValidate}\n                      title={res.title}\n                      value={form[res.name]}\n                      isReq={true}\n                      error={form.errors[res.name]}\n                      className=\"editTextbox\"\n                      reqType={res.reqType}\n                    />\n                  </div>\n                </div>\n              );\n            }\n          })}\n          <div className=\"row\">\n            <div className=\"col-lg-6\">\n              <button\n                type=\"submit\"\n                className=\"btn btn-primary form-control editTextbox\"\n              >\n                Update\n              </button>\n            </div>\n          </div>\n        </form>\n      </div>\n    </>\n  );\n};\n\nexport default connect((state) => state, {\n  getItemById,\n  getItems,\n  postItemUpdateById,\n})(EditProperty);\n"]},"metadata":{},"sourceType":"module"}